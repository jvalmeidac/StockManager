<?xml version="1.0" encoding="utf-8"?>

<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:pageModel="clr-namespace:StockManager.UI.PageModels"
             x:DataType="pageModel:ProdutosPageModel"
             x:Class="StockManager.UI.Pages.ProdutosPage"
             Title="Produtos">

    <StackLayout Padding="10">
        <Label Text="Lista de Produtos" FontSize="24" FontAttributes="Bold" HorizontalOptions="Center" />

        <CollectionView ItemsSource="{Binding Produtos}">
            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border BackgroundColor="LightGray" Padding="10" Margin="5">
                        <StackLayout>
                            <Label Text="{Binding Nome}" FontAttributes="Bold" FontSize="18" />
                            <Label Text="{Binding Preco, StringFormat='Preço: {0:C}'}" />
                            <Label Text="{Binding QuantidadeEstoque, StringFormat='Estoque: {0}'}" />
                            <Button Text="Editar"
                                    Command="{Binding BindingContext.EditarCommand, Source={x:Reference Name=ProdutosPage}}"
                                    CommandParameter="{Binding .}" />
                        </StackLayout>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>
        </CollectionView>

        <Button Text="Adicionar Produto" Command="{Binding AdicionarCommand}" Margin="0,10" />
    </StackLayout>
</ContentPage>